(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(i)?i:String(i)),r)}var i}var n=function(){function t(e,n,o,r,i,u,c,a,l,s,f){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e,this._link=n,this._likes=o,this._id=r,this._ownerId=i,this._openFullImagePopup=c,this._openDeleteCardPopup=a,this._putLikeApi=l,this._deleteLikeApi=s,this._templateSelector=f,this._content=document.querySelector(this._templateSelector).content.querySelector(".photo-grid__element"),this._myId=u}var n,o;return n=t,(o=[{key:"_getTemplateCard",value:function(){return this._content.cloneNode(!0)}},{key:"likeIsActive",value:function(){this._like.classList.add("photo-grid__like_active")}},{key:"likeIsInactive",value:function(){this._like.classList.remove("photo-grid__like_active")}},{key:"updateCountLikes",value:function(t){this._likesCount.textContent=t}},{key:"removeCard",value:function(){this._newCard.remove()}},{key:"_putLike",value:function(){this._putLikeApi(this._id,this)}},{key:"_deleteLike",value:function(){this._deleteLikeApi(this._id,this)}},{key:"_setEventListeners",value:function(){var t=this;this._like.addEventListener("click",(function(){t._like.classList.contains("photo-grid__like_active")?t._deleteLike():t._putLike()})),this._newCard.querySelector(".photo-grid__delete-button").addEventListener("click",(function(){return t._openDeleteCardPopup(t,t._id)})),this._img.addEventListener("click",(function(){return t._openFullImagePopup(t._title,t._link)}))}},{key:"_setData",value:function(){this._newCard.querySelector(".photo-grid__title").textContent=this._title,this._img.src=this._link,this._img.alt=this._title,this._likesCount.textContent=this._likes.length}},{key:"_checkId",value:function(){var t,e=this;return this._likes.forEach((function(n){t=n._id===e._myId})),t}},{key:"getView",value:function(){return this._newCard=this._getTemplateCard(),this._img=this._newCard.querySelector(".photo-grid__photo"),this._like=this._newCard.querySelector(".photo-grid__like"),this._likesCount=this._newCard.querySelector(".photo-grid__likes-counter"),this._setEventListeners(),this._setData(),this._myId!==this._ownerId&&this._newCard.querySelector(".photo-grid__delete-button").remove(),this._checkId()&&this._like.classList.add("photo-grid__like_active"),this._newCard}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.buttonSelector)}var e,n;return e=t,(n=[{key:"_hideInputError",value:function(t){this._formElement.querySelector(".".concat(t.id,"-error")).textContent="",t.classList.remove(this._config.redBorderClass)}},{key:"_showInputError",value:function(t){this._formElement.querySelector(".".concat(t.id,"-error")).textContent=t.validationMessage,t.classList.add(this._config.redBorderClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_disableSubmitButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"clearErrors",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===u(r)?r:String(r)),o)}var r}var a=function(){function t(e,n){var o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===l(r)?r:String(r)),o)}var r}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){this._popup.querySelector(".popup__close-button").addEventListener("click",this.close.bind(this)),this._popup.querySelector(".popup__overlay").addEventListener("click",this.close.bind(this))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===p(r)?r:String(r)),o)}var r}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},h.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(o);if(r){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__img"),e._popupImageTitle=e._popup.querySelector(".popup__img-title"),e}return e=u,(n=[{key:"open",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,h(v(u.prototype),"open",this).call(this)}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==_(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===_(r)?r:String(r)),o)}var r}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},g.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(o);if(r){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._submit=e,n._popupForm=n._popup.querySelector(".popup__form"),n._inputList=n._popupForm.querySelectorAll(".popup__input"),n._button=n._popupForm.querySelector(".popup__save-button"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.id]=e.value})),t}},{key:"renderLoading",value:function(t,e){this._button.textContent="".concat(e)}},{key:"setEventListeners",value:function(){var t=this;g(k(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t.renderLoading(!0,"Сохранение..."),t._submit(t._getInputValues())}))}},{key:"close",value:function(){g(k(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===E(r)?r:String(r)),o)}var r}var P=function(){function t(e){var n=e.nameSelector,o=e.vocationSelector,r=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._vocation=document.querySelector(o),this._avatar=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,vocation:this._vocation.textContent}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._vocation.textContent=t.about}},{key:"setAvatar",value:function(t){this._avatar.src=t.avatar}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===j(r)?r:String(r)),o)}var r}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.url,this.headers=e.headers}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then(I)}},{key:"getCardInfo",value:function(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then(I)}},{key:"saveUserInfo",value:function(t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t.name,about:t.vocation})}).then(I)}},{key:"setAvatar",value:function(t){return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t.avatar})}).then(I)}},{key:"createNewCard",value:function(t){return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t.title,link:t.link})}).then(I)}},{key:"deleteCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t),{method:"DELETE",headers:this.headers}).then(I)}},{key:"putLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this.headers}).then(I)}},{key:"deleteLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this.headers}).then(I)}}])&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t){return t.ok?t.json():Promise.reject(new Error("Ошибка!!!"))}var T={formSelector:".popup__form",inputSelector:".popup__input",buttonSelector:".popup__save-button",inactiveButtonClass:"popup__inactive-button",redBorderClass:"popup__input_red-broder"};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function R(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===q(r)?r:String(r)),o)}var r}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},B.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}var D,U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(o);if(r){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleButton=e,n}return e=u,(n=[{key:"open",value:function(t,e){this._card=t,this._id=e,B(A(u.prototype),"open",this).call(this)}},{key:"delete",value:function(){this._handleButton(this._id,this._card)}},{key:"setEventListeners",value:function(){var t=this;B(A(u.prototype),"setEventListeners",this).call(this),this._popup.querySelector(".popup__delete-card-button").addEventListener("click",(function(){t.delete()}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(f),V=document.querySelector(".profile__edit-button"),F=document.querySelector(".profile__add-button"),N=document.querySelector(".profile__avatar-pencil"),J=document.querySelector(".popup__edit-form"),H=document.querySelector(".popup__add-form"),z=document.querySelector(".popup__avatar-form"),M=document.querySelector("#name"),G=document.querySelector("#vocation"),K=new i(T,H),Q=new i(T,J),W=new i(T,z),X=new C({url:"https://nomoreparties.co/v1/cohort-60",headers:{authorization:"dacb1343-5ee5-4c35-990d-5bf7b2f7cc79","Content-Type":"application/json"}}),Y=new P({nameSelector:".profile__name",vocationSelector:".profile__vocation",avatarSelector:".profile__avatar"}),Z=new a({renderer:function(t){var e=at(t.name,t.link,t.likes,t._id,t.owner._id,D);Z.addItem(e)}},".photo-grid");Promise.all([X.getUserInfo(),X.getCardInfo()]).then((function(t){D=t[0]._id,Y.setUserInfo(t[0]),Y.setAvatar(t[0]),Z.renderItems(t[1])})).catch((function(t){console.log(t)}));var $=new w(".popup_edit",(function(t){X.saveUserInfo(t).then((function(t){Y.setUserInfo(t),$.close()})).catch((function(t){console.log(t)})).finally((function(){$.renderLoading(!1,"Сохранить")}))})),tt=new w(".popup_add",(function(t){X.createNewCard(t).then((function(t){var e=at(t.name,t.link,t.likes,t._id,t.owner._id,D);Z.addItem(e),tt.close()})).catch((function(t){console.log(t)})).finally((function(){tt.renderLoading(!1,"Создать")}))})),et=new w(".popup_avatar",(function(t){X.setAvatar(t).then((function(t){Y.setAvatar(t),et.close()})).catch((function(t){console.log(t)})).finally((function(){et.renderLoading(!1,"Сохранить")}))})),nt=new b(".popup_full-image"),ot=new U(".popup_delete",(function(t,e){X.deleteCard(t).then((function(){ot.close(),e.removeCard()})).catch((function(t){console.log(t)}))}));function rt(t,e){X.putLike(t).then((function(t){e.updateCountLikes(t.likes.length),e.likeIsActive()})).catch((function(t){console.log(t)}))}function it(t,e){X.deleteLike(t).then((function(t){e.updateCountLikes(t.likes.length),e.likeIsInactive()})).catch((function(t){console.log(t)}))}function ut(t,e){nt.open(t,e)}function ct(t,e){ot.open(t,e)}function at(t,e,o,r,i,u){return new n(t,e,o,r,i,u,ut,ct,rt,it,"#photo-grid__element").getView()}V.addEventListener("click",(function(){var t=Y.getUserInfo();M.value=t.name,G.value=t.vocation,Q.clearErrors(),$.open()})),F.addEventListener("click",(function(){K.clearErrors(),tt.open()})),N.addEventListener("click",(function(){W.clearErrors(),et.open()})),tt.setEventListeners(),$.setEventListeners(),nt.setEventListeners(),ot.setEventListeners(),et.setEventListeners(),K.enableValidation(),Q.enableValidation(),W.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSzdGLEVBQU1qRyxFQUM5QixDQUVBLFNBQVNNLEdBQW9CMEksRUFBTTlJLEdBQy9Cb0wsR0FBZ0JRLEtBQUs5QyxFQUFNOUksRUFDL0IsQ0FFQSxTQUFTK0osR0FBV2hFLEVBQU1qRyxFQUFNQyxFQUFPQyxFQUFJQyxFQUFTQyxHQUVoRCxPQURhLElBQUlOLEVBQUttRyxFQUFNakcsRUFBTUMsRUFBT0MsRUFBSUMsRUFBU0MsRUFBUUMsR0FBb0JDLEdBQXFCQyxHQUFZQyxHQUFlLHdCQUN0SHVMLFNBQ2hCLENBRUE1QyxFQUFXaEgsaUJBQWlCLFNBQVMsV0FDakMsSUFBTTZKLEVBQWFqQyxFQUFTTSxjQUM1QmIsRUFBVWhELE1BQVF3RixFQUFXL0YsS0FDN0J3RCxFQUFjakQsTUFBUXdGLEVBQVcxRSxTQUNqQ3FDLEVBQW1Cc0MsY0FDbkJuQixFQUFVZ0IsTUFDZCxJQUVBMUMsRUFBVWpILGlCQUFpQixTQUFTLFdBQ2hDdUgsRUFBa0J1QyxjQUNsQmYsR0FBU1ksTUFDYixJQUVBckUsRUFBT3RGLGlCQUFpQixTQUFTLFdBQzdCeUgsRUFBcUJxQyxjQUNyQmIsR0FBZVUsTUFDbkIsSUFFQVosR0FBU2dCLG9CQUNUcEIsRUFBVW9CLG9CQUNWYixHQUFlYSxvQkFDZlosR0FBZ0JZLG9CQUNoQmQsR0FBZWMsb0JBRWZ4QyxFQUFrQnlDLG1CQUNsQnhDLEVBQW1Cd0MsbUJBQ25CdkMsRUFBcUJ1QyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb25zdGFudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQnV0dG9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGUsIGxpbmssIGxpa2VzLCBpZCwgb3duZXJJZCwgdXNlcklkLCBvcGVuRnVsbEltYWdlUG9wdXAsIG9wZW5EZWxldGVDYXJkUG9wdXAsIHB1dExpa2VBcGksIGRlbGV0ZUxpa2VBcGksIHRlbXBsYXRlU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gb3duZXJJZDtcclxuICAgICAgICB0aGlzLl9vcGVuRnVsbEltYWdlUG9wdXAgPSBvcGVuRnVsbEltYWdlUG9wdXA7XHJcbiAgICAgICAgdGhpcy5fb3BlbkRlbGV0ZUNhcmRQb3B1cCA9IG9wZW5EZWxldGVDYXJkUG9wdXA7XHJcbiAgICAgICAgdGhpcy5fcHV0TGlrZUFwaSA9IHB1dExpa2VBcGk7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlTGlrZUFwaSA9IGRlbGV0ZUxpa2VBcGk7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5waG90by1ncmlkX19lbGVtZW50XCIpO1xyXG4gICAgICAgIHRoaXMuX215SWQgPSB1c2VySWQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlQ2FyZCgpIHtcclxuICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5fY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGNhcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGlrZUlzQWN0aXZlKCl7XHJcbiAgICAgICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QuYWRkKCdwaG90by1ncmlkX19saWtlX2FjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGxpa2VJc0luYWN0aXZlKCl7XHJcbiAgICAgICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdwaG90by1ncmlkX19saWtlX2FjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvdW50TGlrZXMobnVtKXtcclxuICAgICAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gbnVtO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNhcmQoKXtcclxuICAgICAgICB0aGlzLl9uZXdDYXJkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9wdXRMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX3B1dExpa2VBcGkodGhpcy5faWQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9kZWxldGVMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUxpa2VBcGkodGhpcy5faWQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9saWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ3Bob3RvLWdyaWRfX2xpa2VfYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUxpa2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3B1dExpa2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2RlbGV0ZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX29wZW5EZWxldGVDYXJkUG9wdXAodGhpcywgdGhpcy5faWQpKTtcclxuICAgICAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9vcGVuRnVsbEltYWdlUG9wdXAodGhpcy5fdGl0bGUsIHRoaXMuX2xpbmspKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RGF0YSgpIHtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX3RpdGxlJyk7XHJcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgICAgICB0aGlzLl9pbWcuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9pbWcuYWx0ID0gdGhpcy5fdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJZCgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uX2lkID09PSB0aGlzLl9teUlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fbmV3Q2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlQ2FyZCgpO1xyXG4gICAgICAgIHRoaXMuX2ltZyA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX3Bob3RvJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZSA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fbGlrZXMtY291bnRlcicpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGF0YSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fbXlJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19kZWxldGUtYnV0dG9uJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLl9jaGVja0lkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QuYWRkKCdwaG90by1ncmlkX19saWtlX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25ld0NhcmQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuYnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgfSBcclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5yZWRCb3JkZXJDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLnJlZEJvcmRlckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBfZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJFcnJvcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKGRhdGEpIHtcclxuICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX292ZXJsYXknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWctdGl0bGUnKVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgc3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdCA9IHN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7ICAgIFxyXG4gICAgICAgICAgICB2YWx1ZXNbaXRlbS5pZF0gPSBpdGVtLnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIG1lc3NhZ2Upe1xyXG4gICAgICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gYCR7bWVzc2FnZX1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IGAke21lc3NhZ2V9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKHRydWUsICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCB2b2NhdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl92b2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iodm9jYXRpb25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgdm9jYXRpb246IHRoaXMuX3ZvY2F0aW9uLnRleHRDb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKG9iaikge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBvYmoubmFtZTtcclxuICAgICAgICB0aGlzLl92b2NhdGlvbi50ZXh0Q29udGVudCA9IG9iai5hYm91dDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIob2JqKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IG9iai5hdmF0YXI7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cmwgPSBjb25maWcudXJsO1xyXG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZ2V0Q2FyZEluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBzYXZlVXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS52b2NhdGlvblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIHNldEF2YXRhcihkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTmV3Q2FyZChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIHB1dExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ9Ce0YjQuNCx0LrQsCEhIScpKVxyXG59IiwiY29uc3QgYXBpSW5mb0NvbmZpZyA9IHtcclxuICAgIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246ICdkYWNiMTM0My01ZWU1LTRjMzUtOTkwZC01YmY3YjJmN2NjNzknLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIGJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlLWJ1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2luYWN0aXZlLWJ1dHRvbicsXHJcbiAgICByZWRCb3JkZXJDbGFzczogJ3BvcHVwX19pbnB1dF9yZWQtYnJvZGVyJ1xyXG59XHJcblxyXG5leHBvcnQge3ZhbGlkYXRpb25Db25maWcsIGFwaUluZm9Db25maWd9OyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQnV0dG9uIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGhhbmRsZUJ1dHRvbil7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUJ1dHRvbiA9IGhhbmRsZUJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGNhcmQsIGlkKXtcclxuICAgICAgICB0aGlzLl9jYXJkID0gY2FyZDtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoKXtcclxuICAgICAgICB0aGlzLl9oYW5kbGVCdXR0b24odGhpcy5faWQsIHRoaXMuX2NhcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZWxldGUtY2FyZC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnLCBhcGlJbmZvQ29uZmlnfSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IFBvcHVwV2l0aEJ1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhCdXR0b24uanNcIjtcclxuXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1wZW5jaWwnKTtcclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZWRpdC1mb3JtJyk7XHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYWRkLWZvcm0nKTtcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19hdmF0YXItZm9ybScpO1xyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpO1xyXG5jb25zdCBpbnB1dFZvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ZvY2F0aW9uJyk7XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uQWRkRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQWRkRm9ybSk7XHJcbmNvbnN0IHZhbGlkYXRpb25FZGl0Rm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRWRpdEZvcm0pO1xyXG5jb25zdCB2YWxpZGF0aW9uQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQXZhdGFyRm9ybSk7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUluZm9Db25maWcpO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gICAgdm9jYXRpb25TZWxlY3RvcjogJy5wcm9maWxlX192b2NhdGlvbicsXHJcbiAgICBhdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInXHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IGNhcmRzR3JpZCA9IG5ldyBTZWN0aW9uKHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rLCBpdGVtLmxpa2VzLCBpdGVtLl9pZCwgaXRlbS5vd25lci5faWQsIHVzZXJJZCk7XHJcbiAgICAgICAgY2FyZHNHcmlkLmFkZEl0ZW0oY2FyZCk7XHJcbiAgICB9LFxyXG59LFxyXG4gICAgJy5waG90by1ncmlkJ1xyXG4pO1xyXG5cclxuUHJvbWlzZS5hbGwoWyBcclxuICAgIGFwaS5nZXRVc2VySW5mbygpLFxyXG4gICAgYXBpLmdldENhcmRJbmZvKClcclxuXSlcclxuICAgIC50aGVuKCh2YWx1ZXMpID0+IHtcclxuICAgICAgICB1c2VySWQgPSB2YWx1ZXNbMF0uX2lkO1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHZhbHVlc1swXSk7XHJcbiAgICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHZhbHVlc1swXSk7XHJcbiAgICAgICAgY2FyZHNHcmlkLnJlbmRlckl0ZW1zKHZhbHVlc1sxXSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuXHJcbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfZWRpdCcsIGhhbmRsZVN1Ym1pdFBvcHVwRWRpdCk7XHJcbmNvbnN0IHBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hZGQnLCBoYW5kbGVTdWJtaXRQb3B1cEFkZCk7XHJcbmNvbnN0IHBvcHVwU2V0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hdmF0YXInLCBoYW5kbGVTdWJtaXRQb3B1cEF2YXRhcik7XHJcbmNvbnN0IHBvcHVwRnVsbEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfZnVsbC1pbWFnZScpO1xyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQnV0dG9uKCcucG9wdXBfZGVsZXRlJywgaGFuZGxlQnV0dG9uKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdFBvcHVwRWRpdChpbnB1dERhdGEpIHtcclxuICAgIGFwaS5zYXZlVXNlckluZm8oaW5wdXREYXRhKVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICAgICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cEVkaXQucmVuZGVyTG9hZGluZyhmYWxzZSwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRQb3B1cEFkZChpbnB1dERhdGEpIHtcclxuICAgIGFwaS5jcmVhdGVOZXdDYXJkKGlucHV0RGF0YSlcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChkYXRhLm5hbWUsIGRhdGEubGluaywgZGF0YS5saWtlcywgZGF0YS5faWQsIGRhdGEub3duZXIuX2lkLCB1c2VySWQpO1xyXG4gICAgICAgICAgICBjYXJkc0dyaWQuYWRkSXRlbShjYXJkKTtcclxuICAgICAgICAgICAgcG9wdXBBZGQuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cEFkZC5yZW5kZXJMb2FkaW5nKGZhbHNlLCAn0KHQvtC30LTQsNGC0YwnKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU3VibWl0UG9wdXBBdmF0YXIoaW5wdXREYXRhKSB7XHJcbiAgICBhcGkuc2V0QXZhdGFyKGlucHV0RGF0YSlcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YSk7XHJcbiAgICAgICAgICAgIHBvcHVwU2V0QXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBTZXRBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVCdXR0b24oY2FyZElkLCBjYXJkKSB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcclxuICAgICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHV0TGlrZUFwaShjYXJkSWQsIGNhcmQpIHtcclxuICAgIGFwaS5wdXRMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50TGlrZXMoZGF0YS5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBjYXJkLmxpa2VJc0FjdGl2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZUxpa2VBcGkoY2FyZElkLCBjYXJkKSB7XHJcbiAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY2FyZC51cGRhdGVDb3VudExpa2VzKGRhdGEubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgY2FyZC5saWtlSXNJbmFjdGl2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5GdWxsSW1hZ2VQb3B1cChuYW1lLCBsaW5rKSB7XHJcbiAgICBwb3B1cEZ1bGxJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuRGVsZXRlQ2FyZFBvcHVwKGNhcmQsIGlkKSB7XHJcbiAgICBwb3B1cERlbGV0ZUNhcmQub3BlbihjYXJkLCBpZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQobmFtZSwgbGluaywgbGlrZXMsIGlkLCBvd25lcklkLCB1c2VySWQpIHtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuYW1lLCBsaW5rLCBsaWtlcywgaWQsIG93bmVySWQsIHVzZXJJZCwgb3BlbkZ1bGxJbWFnZVBvcHVwLCBvcGVuRGVsZXRlQ2FyZFBvcHVwLCBwdXRMaWtlQXBpLCBkZWxldGVMaWtlQXBpLCAnI3Bob3RvLWdyaWRfX2VsZW1lbnQnKTtcclxuICAgIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJPYmplY3QgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgaW5wdXROYW1lLnZhbHVlID0gdXNlck9iamVjdC5uYW1lO1xyXG4gICAgaW5wdXRWb2NhdGlvbi52YWx1ZSA9IHVzZXJPYmplY3Qudm9jYXRpb247XHJcbiAgICB2YWxpZGF0aW9uRWRpdEZvcm0uY2xlYXJFcnJvcnMoKTtcclxuICAgIHBvcHVwRWRpdC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdmFsaWRhdGlvbkFkZEZvcm0uY2xlYXJFcnJvcnMoKTtcclxuICAgIHBvcHVwQWRkLm9wZW4oKTtcclxufSk7XHJcblxyXG5hdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB2YWxpZGF0aW9uQXZhdGFyRm9ybS5jbGVhckVycm9ycygpO1xyXG4gICAgcG9wdXBTZXRBdmF0YXIub3BlbigpO1xyXG59KTtcclxuXHJcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEZ1bGxJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBTZXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnZhbGlkYXRpb25BZGRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdGlvbkVkaXRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdGlvbkF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpOyJdLCJuYW1lcyI6WyJDYXJkIiwidGl0bGUiLCJsaW5rIiwibGlrZXMiLCJpZCIsIm93bmVySWQiLCJ1c2VySWQiLCJvcGVuRnVsbEltYWdlUG9wdXAiLCJvcGVuRGVsZXRlQ2FyZFBvcHVwIiwicHV0TGlrZUFwaSIsImRlbGV0ZUxpa2VBcGkiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidGhpcyIsIl90aXRsZSIsIl9saW5rIiwiX2xpa2VzIiwiX2lkIiwiX293bmVySWQiLCJfb3BlbkZ1bGxJbWFnZVBvcHVwIiwiX29wZW5EZWxldGVDYXJkUG9wdXAiLCJfcHV0TGlrZUFwaSIsIl9kZWxldGVMaWtlQXBpIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfY29udGVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJfbXlJZCIsImNsb25lTm9kZSIsIl9saWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwibnVtIiwiX2xpa2VzQ291bnQiLCJ0ZXh0Q29udGVudCIsIl9uZXdDYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiX2RlbGV0ZUxpa2UiLCJfcHV0TGlrZSIsIl9pbWciLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJyZXN1bHQiLCJmb3JFYWNoIiwiaXRlbSIsIl9nZXRUZW1wbGF0ZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfc2V0RGF0YSIsIl9jaGVja0lkIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwiYnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJyZWRCb3JkZXJDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImlucHV0IiwiU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZGF0YSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cEltYWdlVGl0bGUiLCJuYW1lIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdCIsIl9zdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2J1dHRvbiIsInZhbHVlcyIsInZhbHVlIiwiaXNMb2FkaW5nIiwibWVzc2FnZSIsInByZXZlbnREZWZhdWx0IiwicmVuZGVyTG9hZGluZyIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJ2b2NhdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZSIsIl92b2NhdGlvbiIsIl9hdmF0YXIiLCJ2b2NhdGlvbiIsIm9iaiIsImFib3V0IiwiYXZhdGFyIiwiQXBpIiwidXJsIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsImhhbmRsZVJlc3BvbnNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiUG9wdXBXaXRoQnV0dG9uIiwiaGFuZGxlQnV0dG9uIiwiX2hhbmRsZUJ1dHRvbiIsImNhcmQiLCJfY2FyZCIsImRlbGV0ZSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJwb3B1cEVkaXRGb3JtIiwicG9wdXBBZGRGb3JtIiwicG9wdXBBdmF0YXJGb3JtIiwiaW5wdXROYW1lIiwiaW5wdXRWb2NhdGlvbiIsInZhbGlkYXRpb25BZGRGb3JtIiwidmFsaWRhdGlvbkVkaXRGb3JtIiwidmFsaWRhdGlvbkF2YXRhckZvcm0iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJjYXJkc0dyaWQiLCJjcmVhdGVDYXJkIiwib3duZXIiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRDYXJkSW5mbyIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cEVkaXQiLCJpbnB1dERhdGEiLCJzYXZlVXNlckluZm8iLCJmaW5hbGx5IiwicG9wdXBBZGQiLCJjcmVhdGVOZXdDYXJkIiwicG9wdXBTZXRBdmF0YXIiLCJwb3B1cEZ1bGxJbWFnZSIsInBvcHVwRGVsZXRlQ2FyZCIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkIiwicHV0TGlrZSIsInVwZGF0ZUNvdW50TGlrZXMiLCJsaWtlSXNBY3RpdmUiLCJkZWxldGVMaWtlIiwibGlrZUlzSW5hY3RpdmUiLCJvcGVuIiwiZ2V0VmlldyIsInVzZXJPYmplY3QiLCJjbGVhckVycm9ycyIsInNldEV2ZW50TGlzdGVuZXJzIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=